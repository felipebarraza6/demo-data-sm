{"ast":null,"code":"var _jsxFileName = \"/Users/felipebarraza/Desktop/ui_crm/src/components/home/Profile.js\";\nimport React, { useReducer, useEffect, useState } from 'react';\nimport { Button, Spin, Modal, Table, Drawer, Row, Col, Divider } from 'antd';\nimport { BorderlessTableOutlined, UserOutlined, StopOutlined } from '@ant-design/icons';\nimport { reducer } from '../../reducers/profile.js';\nimport api from '../../api/endpoints';\nexport const Profile = () => {\n  const initialState = {\n    loading: true,\n    data: null,\n    error: null\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const columns = [{\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id'\n  }, {\n    title: 'Caudal(ltrs/seg)',\n    dataIndex: 'client',\n    key: 'client'\n  }, {\n    title: 'Nivel FreÃ¡tico(mtrs)',\n    dataIndex: 'employee',\n    key: 'employee'\n  }];\n\n  const ModalTask = () => {\n    Modal.success({\n      content: /*#__PURE__*/React.createElement(Table, {\n        columns: columns,\n        dataSource: state.data.data.actions,\n        pagination: {\n          pageSize: 3,\n          simple: true\n        },\n        rowKey: \"id\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 22\n        }\n      }),\n      title: `Datos asignados a @${state.data.data.user.username}`,\n      width: '1220px'\n    });\n  };\n\n  const [profile, setProfile] = useState({\n    visible: false\n  });\n\n  const Profile = () => {\n    setProfile({\n      visible: true\n    });\n  };\n\n  const closeProfile = () => {\n    setProfile({\n      visible: false\n    });\n  };\n\n  useEffect(() => {\n    let isCalled = false;\n\n    const fetchData = async () => {\n      try {\n        const response = await api.user.profile();\n\n        if (!isCalled) {\n          dispatch({\n            type: 'GET_PROFILE',\n            loading: false,\n            payload: response\n          });\n        }\n      } catch (error) {\n        dispatch({\n          loading: false,\n          error: error.message\n        });\n      }\n    };\n\n    fetchData();\n    return () => {\n      isCalled = true;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, !state.loading && /*#__PURE__*/React.createElement(Drawer, {\n    width: \"400px\",\n    visible: profile.visible,\n    onClose: closeProfile,\n    closable: false,\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UserOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 30\n      }\n    }), \" \", state.data.data.user.email),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, \"Usuario\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, \"Apellido\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, \"Email\")), /*#__PURE__*/React.createElement(Col, {\n    flex: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, state.data.data.user.username), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, state.data.data.user.first_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, state.data.data.user.last_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, state.data.data.user.email)), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    onClick: ModalTask,\n    type: \"primary\",\n    style: {\n      marginRight: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BorderlessTableOutlined, {\n    style: {\n      marginRight: '3px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), state.loading ? /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 34\n    }\n  }) : state.data.data.actions.length, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      paddingLeft: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"Notificaciones\")), /*#__PURE__*/React.createElement(Button, {\n    onClick: Profile,\n    type: \"link\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserOutlined, {\n    style: {\n      fontSize: '20px',\n      paddingRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }), state.loading ? /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 30\n    }\n  }) : state.data.data.user.email));\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/felipebarraza/Desktop/ui_crm/src/components/home/Profile.js"],"names":["React","useReducer","useEffect","useState","Button","Spin","Modal","Table","Drawer","Row","Col","Divider","BorderlessTableOutlined","UserOutlined","StopOutlined","reducer","api","Profile","initialState","loading","data","error","state","dispatch","columns","title","dataIndex","key","ModalTask","success","content","actions","pageSize","simple","user","username","width","profile","setProfile","visible","closeProfile","isCalled","fetchData","response","type","payload","message","email","marginTop","first_name","last_name","marginRight","length","paddingLeft","color","fontSize","paddingRight"],"mappings":"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","sourcesContent":["import React, {useReducer, useEffect, useState } from 'react'\n\nimport {Button, Spin, Modal, Table, Drawer, Row, Col, Divider } from 'antd'\nimport {BorderlessTableOutlined, UserOutlined, StopOutlined} from '@ant-design/icons'\n\nimport { reducer } from '../../reducers/profile.js'\nimport api from '../../api/endpoints'\n\n\n\nexport const Profile = () =>{\n\n    const initialState = {\n        loading: true,\n        data:  null,\n        error: null        \n    }\n\n    const [state, dispatch] = useReducer(reducer, initialState)\n\n    const columns = [\n        {\n            title: 'ID',\n            dataIndex: 'id',\n            key: 'id',\n        },\n        {\n            title: 'Caudal(ltrs/seg)',\n            dataIndex: 'client',\n            key: 'client'\n        },\n        {\n            title: 'Nivel FreÃ¡tico(mtrs)',\n            dataIndex: 'employee',\n            key: 'employee'\n        }       \n        \n    ]\n\n    const ModalTask = () =>{\n        Modal.success({\n            content: <Table columns={columns} dataSource={state.data.data.actions} pagination={{ pageSize: 3, simple:true}} rowKey='id'></Table>,\n            title: `Datos asignados a @${state.data.data.user.username}`,\n            width: '1220px'\n        })\n    }\n\n\n    const [profile, setProfile] = useState({visible:false})\n\n    const Profile = () =>{\n        setProfile({\n            visible:true\n        })\n    }\n\n    const closeProfile = () => {\n        setProfile({\n            visible: false\n        })\n    }\n\n    useEffect(() => {\n\n        let isCalled = false\n\n        const fetchData = async() => {\n\n            try{\n                const response = await api.user.profile()\n\n                if(!isCalled){\n                    dispatch({\n                        type: 'GET_PROFILE',\n                        loading: false,\n                        payload: response\n                    })\n                }\n            }catch(error){\n                dispatch({\n                    loading: false,\n                    error:error.message\n                })\n            }\n        }\n\n        fetchData()\n\n        return () => {\n            isCalled = true\n        }\n\n    }, [])\n    \n    return (\n        <React.Fragment>\n\n            {!state.loading &&\n                <Drawer\n                    width='400px'\n                    visible={profile.visible}\n                    onClose={closeProfile}\n                    closable={false}\n                    title={<><UserOutlined/> {state.data.data.user.email}</>}\n                >\n                    <Row style={{marginTop:'50px'}}>\n                        <Col flex={2}>\n                            <p>Usuario</p>\n                            <p>Nombre</p>\n                            <p>Apellido</p>\n                            <p>Email</p>\n                        </Col>\n                        <Col flex={3}>\n                            <p>{state.data.data.user.username}</p>\n                            <p>{state.data.data.user.first_name}</p>\n                            <p>{state.data.data.user.last_name}</p>\n                            <p>{state.data.data.user.email}</p>\n                        </Col>\n                        <Divider />\n                    </Row>\n\n                </Drawer>\n            }\n            \n\n            <Button onClick={ModalTask} type='primary' style={{marginRight:'15px'}}>\n                <BorderlessTableOutlined style={{marginRight:'3px'}} />\n                {state.loading ? <Spin/>: state.data.data.actions.length}\n                <i style={{paddingLeft:'15px'}}>Notificaciones</i>\n            </Button>\n\n            <Button onClick={Profile} type='link' style={{color:'white'}}>\n            <UserOutlined style={{fontSize:'20px', paddingRight:'5px'}} />\n            {state.loading ? <Spin/>: state.data.data.user.email }\n            </Button>\n        </React.Fragment>\n    )\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}