{"ast":null,"code":"var _jsxFileName = \"/Users/felipebarraza/Desktop/ui_crm/src/containers/Login.js\";\n// React\nimport React from 'react'; // Build\n\nimport logo from '../build/images/logo-white.png'; // Antd\n\nimport { Form, Input, Button, Checkbox, Spin, message } from 'antd'; // Antd Icons\n\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'; // Context\n\nimport { AuthContext } from '../App'; // Endpoints\n\nimport api from '../api/endpoints';\nexport const Login = () => {\n  const {\n    dispatch\n  } = React.useContext(AuthContext);\n  const initialState = {\n    email: \"\",\n    password: \"\",\n    isSubmitting: false,\n    errorMessage: null,\n    user: null\n  };\n  const [data, setData] = React.useState(initialState);\n\n  const handleInputChange = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleFormSubmit = async e => {\n    setData({ ...data,\n      isSubmitting: true,\n      errorMessage: null\n    });\n\n    try {\n      const response = await api.user.login(data);\n      dispatch({\n        type: \"LOGIN\",\n        payload: response\n      });\n      message.success(`Acceso correcto: ${response.user.first_name} ${response.user.last_name}`);\n    } catch (error) {\n      setData({\n        isSubmitting: false,\n        errorMessage: error.message || error.statusText\n      });\n      message.error('Credenciales Incorrectas');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"general-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"logo\",\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'white',\n      opacity: '0.4',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"CRM - Gesti\\xF3n de tareas y clientes.\")), /*#__PURE__*/React.createElement(Form, {\n    onFinish: handleFormSubmit,\n    name: \"normal_login\",\n    className: \"login-form\",\n    initialValues: {\n      remember: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: 'Ingresa tu correo corporativo'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }),\n    type: \"email\",\n    placeholder: \"Email\",\n    value: data.email,\n    name: \"email\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Ingresa tu contrase√±a!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }),\n    type: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    value: data.password,\n    name: \"password\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"remember\",\n    valuePropName: \"checked\",\n    noStyle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Recuerda mis datos\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, data.isSubmitting ? /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 39\n    }\n  }) : /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 50\n    }\n  }, \"INGRESAR\")))), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"2020 - Quality Net\")));\n};\nexport default Login;","map":{"version":3,"sources":["/Users/felipebarraza/Desktop/ui_crm/src/containers/Login.js"],"names":["React","logo","Form","Input","Button","Checkbox","Spin","message","UserOutlined","LockOutlined","AuthContext","api","Login","dispatch","useContext","initialState","email","password","isSubmitting","errorMessage","user","data","setData","useState","handleInputChange","e","target","name","value","handleFormSubmit","response","login","type","payload","success","first_name","last_name","error","statusText","color","opacity","textAlign","remember","required"],"mappings":"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","sourcesContent":["// React\nimport React from 'react'\n\n// Build\nimport logo from '../build/images/logo-white.png'\n\n// Antd\nimport { Form, Input, Button, Checkbox, Spin, message } from 'antd';\n\n// Antd Icons\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\n\n// Context\nimport { AuthContext } from '../App'\n\n// Endpoints\nimport api  from '../api/endpoints'\n\n\n\nexport const Login = () => {   \n    const { dispatch } = React.useContext(AuthContext)\n    const initialState = {\n        email: \"\",\n        password: \"\",        \n        isSubmitting: false,\n        errorMessage: null,\n        user:null     \n    }\n\n    const [data, setData] = React.useState(initialState)\n\n    const handleInputChange = e => {        \n        setData({\n            ...data,\n            [e.target.name]: e.target.value            \n        })        \n    }\n\n    const handleFormSubmit = async e => {        \n        setData({\n            ...data,\n            isSubmitting: true,\n            errorMessage: null\n\n        })\n\n        try{\n\n            const response = await api.user.login(data)\n\n            dispatch({\n                type: \"LOGIN\",\n                payload: response\n            })\n            message.success(`Acceso correcto: ${response.user.first_name} ${response.user.last_name}`)\n            \n            \n        } catch (error){            \n            setData({isSubmitting:false, errorMessage:error.message || error.statusText})\n            message.error('Credenciales Incorrectas')\n            }   \n        }\n\n    return(\n        <div className=\"general-login\">\n            \n            \n        \n            <div className=\"login-container\">\n        <div className=\"login\">\n            <div className=\"head-login\">\n                <img alt='logo' src={logo} />\n                <p style={{color:'white', opacity:'0.4', textAlign:'center'}}>CRM - Gesti√≥n de tareas y clientes.</p>\n            </div>\n            \n        <Form\n            onFinish = { handleFormSubmit }\n            name=\"normal_login\"\n            className=\"login-form\"\n            initialValues={{ remember: true }}\n            \n            \n        >\n            <Form.Item\n                name=\"email\"\n                rules={[{ required: true, message: 'Ingresa tu correo corporativo'}]}\n            >\n                <Input \n                    prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                    type=\"email\" \n                    placeholder=\"Email\" \n                    value={data.email}\n                    name=\"email\"\n                    onChange={handleInputChange}\n                    \n                />\n            \n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Ingresa tu contrase√±a!' }]}\n            >\n                <Input\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                    type=\"password\"\n                    placeholder=\"Contrase√±a\"\n                    value={data.password}\n                    name=\"password\"                    \n                    onChange={handleInputChange}\n\n                />\n            </Form.Item>\n            <Form.Item>\n                <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                <Checkbox>Recuerda mis datos</Checkbox>\n                </Form.Item>\n\n            \n            </Form.Item>\n\n            \n\n            <Form.Item>\n                \n                {data.isSubmitting ? (<Spin />):(<Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">INGRESAR</Button>)}\n                \n                \n             </Form.Item>\n             \n            \n             \n        </Form>\n        \n        \n      \n\n        </div>\n        <p style={{color:'white'}}>2020 - Quality Net</p>\n      </div>\n        </div>\n        \n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}